{% extends 'base.html' %}

{% block content %}
<div class="flex flex-col items-center justify-center min-h-[80vh] py-12 px-4 animate-fade-in">
    <div class="relative bg-white/80 backdrop-blur-2xl p-8 md:p-14 rounded-[3.5rem] shadow-[0_20px_60px_rgba(0,0,0,0.04)] border border-white/60 max-w-2xl w-full overflow-hidden">
        
        <div class="absolute -top-24 -right-24 w-48 h-48 bg-emerald-100/30 rounded-full blur-3xl"></div>

        <div class="text-center mb-10 relative z-10">
            <div class="w-20 h-20 bg-emerald-50 text-emerald-600 rounded-3xl flex items-center justify-center mx-auto mb-4 shadow-inner -rotate-6">
                <span class="text-3xl">⚖️</span>
            </div>
            <h2 class="text-3xl font-black text-slate-800 tracking-tight">Tell us about yourself</h2>
            <p class="text-slate-500 font-medium mt-1">This helps us calculate your BMI and daily calorie needs.</p>
        </div>

        <form method="POST" class="relative z-10 space-y-6">
            {% csrf_token %}
            
            <div class="grid grid-cols-1 md:grid-cols-2 gap-6">
                {% for field in form %}
                    <div class="{% if 'height' in field.name or 'weight' in field.name or 'age' in field.name %} md:col-span-1 {% else %} md:col-span-2 {% endif %}">
                        <label class="block text-[10px] font-bold text-slate-400 uppercase tracking-[0.15em] mb-2 ml-1" for="{{ field.auto_id }}">
                            {{ field.label }}
                        </label>
                        
                        <div class="relative group">
                            {% if field.field.widget.input_type == 'select' %}
                                <select name="{{ field.name }}" id="{{ field.auto_id }}" 
                                        class="w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none appearance-none cursor-pointer transition-all duration-300 focus:border-emerald-500 focus:bg-white focus:shadow-lg focus:shadow-emerald-100/50">
                                    {% for choice in field.field.choices %}
                                        <option value="{{ choice.0 }}">{{ choice.1 }}</option>
                                    {% endfor %}
                                </select>
                                <div class="absolute inset-y-0 right-4 flex items-center pointer-events-none text-slate-400">
                                    <svg class="w-4 h-4" fill="none" stroke="currentColor" viewBox="0 0 24 24"><path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M19 9l-7 7-7-7"></path></svg>
                                </div>
                            {% else %}
                                <input type="{{ field.field.widget.input_type }}" 
                                       name="{{ field.name }}" 
                                       id="{{ field.auto_id }}" 
                                       placeholder="Enter {{ field.label|lower }}"
                                       class="w-full px-5 py-4 bg-slate-50 border-2 border-slate-100 rounded-2xl outline-none transition-all duration-300 focus:border-emerald-500 focus:bg-white focus:shadow-lg focus:shadow-emerald-100/50">
                            {% endif %}
                        </div>

                        {% if field.errors %}
                            <p class="text-rose-500 text-[11px] font-bold mt-2 ml-1 animate-pulse">{{ field.errors|first }}</p>
                        {% endif %}
                    </div>
                {% endfor %}
            </div>

            <div class="pt-6">
                <button type="submit" class="w-full py-5 bg-emerald-600 text-white rounded-2xl font-bold shadow-2xl shadow-emerald-200 hover:bg-emerald-700 hover:-translate-y-1 transition-all duration-300 active:scale-95">
                    Save & Calculate My Plan
                </button>
            </div>
        </form>
    </div>
</div>

<style>
    @keyframes fadeInUp {
        from { opacity: 0; transform: translateY(30px); }
        to { opacity: 1; transform: translateY(0); }
    }
    .animate-fade-in {
        animation: fadeInUp 0.8s cubic-bezier(0.16, 1, 0.3, 1) forwards;
    }
</style>
{% endblock %}